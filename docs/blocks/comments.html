<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:og="http://ogp.me/ns#"
	xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
	<meta charset="UTF-8">
	<title>DoGo Code Microbit</title>
	<meta name="Description" content="A Blocks / JavaScript code editor for the micro:bit powered by Microsoft MakeCode." />

	<!-- ifdef incontexttranslations endif -->
	
<!-- include meta.html -->
<!-- This file is typically overriden by the target, with own Twitter
     account etc. Most data is taken from the theme file though.  
  -->

<!-- include robotsmeta.html -->

<!-- end include robotsmeta.html -->

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@msmakecode" />
<meta name="twitter:title" content="DoGo Code Microbit" />
<meta name="twitter:description" content="A Blocks / JavaScript code editor for the micro:bit powered by Microsoft MakeCode." />
<meta name="twitter:image" content="/static/blocks/block-menu.jpg" />

<meta property="og:title" content="DoGo Code Microbit" />
<meta property="og:site_name" content="Microsoft MakeCode" />
<meta property="og:type" content="website" />
<meta property="og:description" content="A Blocks / JavaScript code editor for the micro:bit powered by Microsoft MakeCode." />
<meta property="fb:app_id" content="" />
<meta property="og:image" content="/static/blocks/block-menu.jpg" />

<meta name="format-detection" content="telephone=no">
<link rel="apple-touch-icon" href="docs/static/logo-dogomaker.png">
<link rel="icon" type="image/png" href="docs/static/logo-dogomaker.png">
<link rel="shortcut icon" href="docs/static/logo-dogomaker.png">
<meta name="theme-color" content="#5C005C">

<!-- end include meta.html -->

	
<!-- include head.html -->
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0">

<link rel="stylesheet" data-rtl="/blb/rtlsemantic.css" href="/pxt-microbit-dogo/semantic.css" />
<link id="blocklycss"  data-rtl="/blb/rtlblockly.css" rel="stylesheet" href="/pxt-microbit-dogo/blockly.css" />
<link rel="stylesheet" href="/pxt-microbit-dogo/docfiles/style.css" />
<link rel="stylesheet" href="/pxt-microbit-dogo/docfiles/vs.css" />
<link rel="stylesheet" href="/pxt-microbit-dogo/docfiles/target.css" />

<script src="/pxt-microbit-dogo/jquery.js" type="text/javascript"></script>
<script src="/pxt-microbit-dogo/semantic.js" type="text/javascript"></script>
<script src="/pxt-microbit-dogo/docfiles/target.js" type="text/javascript"></script>
<script src="/pxt-microbit-dogo/embed.js" type="text/javascript"></script>
<script src="/pxt-microbit-dogo/docfiles/docs.js" type="text/javascript"></script>

<style>
    
.ui.accent { color: #5C005C; }
.ui.inverted.accent { background: #5C005C; }

</style>

<!-- end include head.html -->


</head>

<body id='root' class='root'>
	<div id="accessibleMenu" class="ui accessibleMenu borderless fixed menu docs" role="menubar">
		
            <a href="#maincontent" class="ui item link" tabindex="0" role="menuitem">Skip to main content</a>
        
	</div>

	
<!-- include tocheader.html -->
<div class="docs-top-bar inverted" role="banner">
    <div id="top-bar" class="menu-bar" role="menubar">
        
            <a id="togglesidebar" class="launch icon item" tabindex="0" title="Side menu" aria-label="Side menu" role="menuitem" aria-expanded="false">
                <i class="content icon"></i>
            </a>
        
        <div class="logo-group" role="menuitem">
            <img class="desktop-only" src="/static/logo/Microsoft_logo_rgb_W-white_D.png" alt="Microsoft">
            <img class="desktop-hidden" src="/static/logo/Microsoft_logo_rgb_W-white_D-square.png" alt="Microsoft">
            <div class="header-title desktop-only"><span>MakeCode</span></div>
        </div>
    </div>
    <form id="tocsearch1" class="search" method="get" action="https://www.bing.com/search" role="search">
        <div class="ui fluid icon input">
            <input type="hidden" name="q1" value="site:https://makecode.microbit.org/" />
            
                <input type="search" name="q" placeholder="Search..." aria-label="Search Documentation">
                <i onclick="document.getElementById('tocsearch1').submit();" tabindex="0" class="search link icon" aria-label="Search" role="button"></i>
            
        </div>
    </form>
</div>

<div id="side-menu" class="ui vertical accent inverted sidebar menu left hideprint docs" role="menubar">
    <!-- TOC Menu (tocheader.html) -->
    <div class="menuContainer" role="menu">
        
    <a class="item " href="/pxt-microbit-dogo/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/pxt-microbit-dogo/docs/faq.html" role="menuitem">FAQ</a>


    <a class="item " href="/pxt-microbit-dogo/docs/projects.html" role="menuitem">Projects</a>


    <a class="item " href="/pxt-microbit-dogo/docs/github.html" role="menuitem">GitHub</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/blocks.html">Blocks</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/blocks/on-start.html" role="menuitem">On Start</a>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/blocks/loops.html">Loops</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/blocks/loops/repeat.html" role="menuitem">repeat</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/loops/for.html" role="menuitem">for</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/loops/while.html" role="menuitem">while</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/loops/for-of.html" role="menuitem">for of</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/blocks/logic.html">Logic</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/blocks/logic/if.html" role="menuitem">if</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/logic/boolean.html" role="menuitem">Boolean</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/blocks/variables.html">Variables</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/blocks/variables/assign.html" role="menuitem">assign</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/variables/change.html" role="menuitem">change var</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/variables/var.html" role="menuitem">var</a>

        </div>
    </div>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/math.html" role="menuitem">Math</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/javascript-blocks.html" role="menuitem">JavaScript blocks</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks/custom.html" role="menuitem">Custom blocks</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/python.html">Python</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/python/call.html" role="menuitem">Calling</a>


    <a class="item " href="/pxt-microbit-dogo/docs/python/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/pxt-microbit-dogo/docs/python/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/pxt-microbit-dogo/docs/python/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/pxt-microbit-dogo/docs/python/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/pxt-microbit-dogo/docs/python/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/pxt-microbit-dogo/docs/python/classes.html" role="menuitem">Classes</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/javascript.html">JavaScript</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/javascript/call.html" role="menuitem">Calling</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/sequence.html" role="menuitem">Sequencing</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/variables.html" role="menuitem">Variables</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/operators.html" role="menuitem">Operators</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/statements.html" role="menuitem">Statements</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/functions.html" role="menuitem">Functions</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/types.html" role="menuitem">Types</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/classes.html" role="menuitem">Classes</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/interfaces.html" role="menuitem">Interfaces</a>


    <a class="item " href="/pxt-microbit-dogo/docs/javascript/generics.html" role="menuitem">Generics</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="/pxt-microbit-dogo/docs/types.html">Types</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/types/number.html" role="menuitem">Number</a>


    <a class="item " href="/pxt-microbit-dogo/docs/types/string.html" role="menuitem">String</a>


    <a class="item " href="/pxt-microbit-dogo/docs/types/boolean.html" role="menuitem">Boolean</a>


    <a class="item " href="/pxt-microbit-dogo/docs/types/array.html" role="menuitem">Array</a>


    <a class="item " href="/pxt-microbit-dogo/docs/types/function.html" role="menuitem">Function</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Miscellaneous</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/about.html" role="menuitem">About</a>


    <a class="item " href="/pxt-microbit-dogo/docs/support.html" role="menuitem">Support</a>


    <a class="item " href="/pxt-microbit-dogo/docs/translate.html" role="menuitem">Translate</a>


    <a class="item " href="/pxt-microbit-dogo/docs/share.html" role="menuitem">Sharing projects</a>


    <a class="item " href="/pxt-microbit-dogo/docs/offline.html" role="menuitem">Offline support</a>


    <a class="item " href="/pxt-microbit-dogo/docs/save.html" role="menuitem">Save</a>


    <a class="item " href="/pxt-microbit-dogo/docs/homepage-content.html" role="menuitem">Home page content</a>

        </div>
    </div>


    <div class="ui  accordion item visible" role="tree" title="">
        <div class=" title">
            <i class="right chevron icon"></i>
            <a class="header" role="treeitem" aria-expanded="false" href="">Developers</a>
        </div>
        <div class=" content">
            
    <a class="item " href="/pxt-microbit-dogo/docs/cli.html" role="menuitem">Command Line Interface</a>


    <a class="item " href="/pxt-microbit-dogo/docs/code.html" role="menuitem">Visual Studio Code support</a>


    <a class="item " href="/pxt-microbit-dogo/docs/blocks-embed.html" role="menuitem">Blocks Embed</a>

        </div>
    </div>

    </div>
</div>
<!-- end include tocheader.html -->


	<div id="docs" class="pusher">

		<div class="article" id="maincontent">
			<div class="article-inner">

				
<!-- include header.html -->
<div class="ui one column padded grid hideprint">
    <div class="column ui container">
        
    </div>
</div>
<!-- end include header.html -->


				<div class="main ui container fluid mainbody" role="main">
					<button id="printbtn" class="circular ui icon right floated button hideprint hidemobile"
						title="Print" aria-label="Print">
						<i class="icon print"></i>
					</button>
					
    <div class="ui text">
        <h1 id="comments">Comments</h1><p>For simple programs, is easy to understand the steps and the flow the program might take when it runs. If you have just a few steps in your program that run one after the other in a sequence, it’s fairly easy to understand what’s happening at each place in your program.</p>
<p>The following program does 4 simple things:</p>
<ol>
<li>Show a “Hello” message</li>
<li>Display a smiley face as part of a greeting</li>
<li>Pause for a second so you can see the smiley</li>
<li>Clear the screen</li>
</ol>
<pre><code class="lang-blocks">basic.showString(&quot;Hello!&quot;)
basic.showIcon(IconNames.Happy)
basic.pause(1000)
basic.clearScreen()</code></pre>
<p>It’s quite obvious what this program is doing. Each block does one thing, the next block runs after the previous one in a sequence, then the program ends. Let’s say you want the user to show that they saw the greeting. You could add button press event that shows a check mark icon.</p>
<pre><code class="lang-blocks">basic.showString(&quot;Hello!&quot;)
basic.showIcon(IconNames.Happy)
basic.pause(1000)
basic.clearScreen()
input.onButtonPressed(Button.A, function () {
    basic.showIcon(IconNames.Yes)
})</code></pre>
<p>You know, of course, that the button press event means that the user has acknowleged your greeting. If you shared your program with someone else though, they might not understand why you wanted to add the button press to the program. </p>
<h2 id="block-comments">Block comments</h2><p>To let others know what certain parts of your program are supposed to do, you can add <strong>comments</strong>. Comments are a text description that says what that part of your program is doing. To put a comment on a block, open the block menu and select <strong>Add comment</strong>.</p>
<p><img class="ui image" src="/static/blocks/block-menu.jpg" alt="Block menu" loading="lazy"></p>
<p>A place for your comment will appear and you can type in your description of what that block is for and what it’s supposed to do.</p>
<p><img class="ui image" src="/static/blocks/insert-comment.jpg" alt="Insert the comment" loading="lazy"></p>
<p>Once a comment is added to a block, a comment icon will show in the upper-left corner of the block. Here’s our program with the comment on the <code>||input:on button A press||</code>.</p>
<pre><code class="lang-blocks">// Signal that the greeting was seen
input.onButtonPressed(Button.A, function () {
    basic.showIcon(IconNames.Yes)
})
basic.showString(&quot;Hello!&quot;)
basic.showIcon(IconNames.Happy)
basic.pause(1000)
basic.clearScreen()</code></pre>
<p>In the Blocks editor, the comment is displayed when you click on the comment icon. If you view the JavaScript or Python code, you’ll see a comment line directly above the button press code.</p>
<pre><code class="lang-typescript">// Signal that the greeting was seen
input.onButtonPressed(Button.A, function () {
    basic.showIcon(IconNames.Yes)
})
basic.showString(&quot;Hello!&quot;)
basic.showIcon(IconNames.Happy)
basic.pause(1000)
basic.clearScreen()</code></pre>
<p>When a program contains conditionals, loops, or functions, adding comments becomes important to help understand what’s happening at those places in your program. The program can take a different path based on a condition, result from a function, or some other action.</p>

    <div class="ui info message">
        <div class="content">
            <h4 id="workspace-comments">Workspace comments</h4><p>You can add comments an notes about your project with <strong>Workspace Comments</strong>. Just right-click on the Workspace background and choose <strong>Add Comment</strong> to insert your comments for the project.</p>
<pre><code class="lang-block">/**
 * This is a workspace comment.
 * 
 * Use this space to make comments
 * 
 * and notes about your project.
 */
// Display a message
function showMessage () {
    basic.showString(&quot;Workspaces have comments!&quot;)
}</code></pre>

        </div>
    </div>
<p>The following example has a conditional inside a loop to choose one of three different mood values. For each mood, a function will display an icon for it. Each block has a comment that describes what it will do. Take a look at the JavaScript or Python code to see the comments on the code text also.</p>
<pre><code class="lang-blocks">/**
 * The mood icon project.
 * 
 * TODO: add more moods
 * 
 * 1. Sad
 * 
 * 2. Confused
 */
// Display an emotion of love
function heart () {
    basic.showIcon(IconNames.Heart)
}
// Show a surprised expression
function surprised () {
    basic.showIcon(IconNames.Surprised)
}
// Display a smiley mood
function smiley () {
    basic.showIcon(IconNames.Happy)
}
// My program that shows three mood icons
// Run the loop to show 3 icons
for (let index = 0; index &lt;= 2; index++) {
    // Select an icon based on the index
    if (index == 0) {
        smiley()
    } else if (index == 1) {
        heart()
    } else {
        surprised()
    }
    // Pause for a second between moods
    basic.pause(1000)
}</code></pre>

    </div>

					<div class="hideprint"></div>
				</div>

			</div>

			
<!-- include footer.html -->
<footer class="ui vertical footer segment hideprint docs inverted" aria-hidden="false">
    <div class="ui center aligned container">
        <div class="ui horizontal link list">
            <a
                class="item"
                href="https://twitter.com/intent/follow?screen_name=MsMakeCode"
                title="Follow us on Twitter"
                target="_blank"
                rel="noopener">
                <i class="huge icon twitter"></i>
            </a>
            <a class="item" href="https://www.youtube.com/channel/UCye7YlvFUUQ1dSy0WZZ1T_Q" title="Subscribe to our YouTube channel"
                target="_blank" rel="noopened">
                <i class="huge icon youtube"></i>
            </a>
            <a class="item" href="mailto:makecode@microsoft.com" title="Send us an Email"
                target="_blank" rel="noopened">
                <i class="huge icon mail"></i>
            </a>
        </div>
        <div class="ui section divider"></div>
        <div class="ui container horizontal small divided link list">
            <a id="langpicker" tabindex="0" class="ui item" rel="noopener">
                <i class="icon xicon globe" aria-hidden="true" role="presentation"></i>Language
            </a>
            <a class="item" href="https://makecode.com/privacy" target="_blank" rel="noopener">Privacy &amp; Cookies</a>
            <a class="item" href="https://makecode.com/termsofuse" target="_blank" rel="noopener">Terms Of Use</a>
            <a class="item" href="https://makecode.com/trademarks" target="_blank" rel="noopener">Trademarks</a>
            <span class="item">© 2022 Microsoft</span>
        </div>
        <div class="ui container horizontal small link list poweredBy">
            <span class="item">Powered by</span>
            <a class="middle aligned" href="https://makecode.com/" title="Microsoft MakeCode"
                target="_blank" rel="noopener">
                <img width="100" src="/static/logo/Microsoft-logo_rgb_c-gray.png" alt="Microsoft">
            </a>
        </div>
    </div>
</footer>

<!-- end include footer.html -->


		</div>

	</div>

    
<!-- include langpicker.html -->
<div id="langmodal" class="ui modal docs" role="dialog" aria-modal="true" aria-describedby="langmodalheader" tabindex="-1">
    <h2 id="langmodalheader" class="header">Select Language</h2>
    <div role="button" class="closeIcon" tabindex="0" aria-label="Close">
        <i class="icon close remove circle" aria-hidden="true"></i>
    </div>

	<div class="content">
	    <div class="group">
            <div id="availablelocales" class="ui cards centered" role="listbox" aria-label="List of available locales"></div>
        </div>
        <div class="ui" id="langmodalfooter">
            <a class="ui" href="/pxt-microbit-dogo/docs/translate.html" target="_blank" rel="noopener noreferrer">
                How do I add a new language?
            </a>

            <a id="translatebtn" class="ui button" role="button" tabindex="0">
                Translate this page
            </a>
        </div>
    </div>
</div>


<!-- end include langpicker.html -->

	
<!-- include macros.html -->
<!-- macro button -->

<!-- macro vimeo -->

<!-- macro youtube -->

<!-- macro section -->

<!-- macro hide -->

<!-- macro avatar -->

<!-- macro hint -->

<!-- macro codecard -->

<!-- macro tutorialhint -->

<!-- macro reminder -->

<!-- macro alert -->

<!-- macro tip -->

<!-- wrapped around ordinary content -->
<!-- macro main-container -->

<!-- used for 'column' box - they are collected and wrapped in 'column-container' -->
<!-- macro column -->
<!-- macro column-container -->


<!-- Menu on the top of the page -->
<!-- macro item -->

<!-- macro divider -->

<!-- TOC in the sidebar -->
<!-- macro item -->

<!-- macro divider -->

<!-- macro toc-dropdown -->

<!-- macro toc-dropdown-noLink -->

<!-- macro toc-dropdown-noHeading -->

<!-- TODO: duplicates of above for compatability with docsrender.ts;
    remove with pxtlib/docsrender.ts TOC TODOs after cloud bump. -->
<!-- macro top-dropdown -->

<!-- macro top-dropdown-noHeading -->

<!-- macro inner-dropdown -->

<!-- macro nested-dropdown -->
<!-- end include macros.html -->

	
<!-- include tracking.html -->
<script type="text/javascript" src="/pxt-microbit-dogo/pxtweb.js"></script>
<script type="text/javascript">
    window.loadAppInsights = function (includeCookie) {
        //Backend will patch / + doccdn + / with CDN url and the check that URL ends with the sha would pass
        var isProduction = includeCookie && (/[0-9a-f]{40}\/ai\.2\.min\.js$/.test("/pxt-microbit-dogo/ai.2.min.js"));
        !function(T,l,y){var S=T.location,k="script",D="connectionString",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\./g,"-"),hasFullStack:!1,stack:n+"\nSnippet failed to load ["+a+"] -- Telemetry is disabled\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\nHost: "+(S&&S.pathname||"_unknown_")+"\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{
            src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source
            onInit: function (sdk) {
                sdk.addTelemetryInitializer(function (envelope) {
                    // App Insights automatically sends a page view event on setup, but we send our own later with additional properties.
                    // This stops the automatic event from firing, so we don't end up with duplicate page view events.
                    if (envelope.baseType == "PageviewData" && !envelope.baseData.properties) {
                        return false;
                    }

                    if (envelope.baseType == "PageviewPerformanceData") {
                        var pageName = envelope.baseData.name;
                        envelope.baseData.name = window.location.origin;
                        if (!envelope.baseData.properties) {
                            envelope.baseData.properties = {};
                        }
                        envelope.baseData.properties.pageName = pageName;
                        var scrubbedUrl = scrubUrl(envelope.baseData.uri);
                        envelope.baseData.uri = scrubbedUrl;
                        var toUrl = new URL(scrubbedUrl);
                        envelope.baseData.properties.pathName = toUrl ? toUrl.pathname : "";
                        if (envelope.ext && envelope.ext.trace) {
                            envelope.ext.trace.name = toUrl ? toUrl.pathname : "";
                        }
                    }

                    var telemetryItem = envelope.baseData;
                    telemetryItem.properties = telemetryItem.properties || {};
                    telemetryItem.properties["cookie"] = isProduction;
                    if (typeof pxtConfig === "undefined" || !pxtConfig || !pxtConfig.targetId) {
                        telemetryItem.properties["target"] = "microbit";
                        return true;
                    }
                    telemetryItem.properties["target"] = pxtConfig.targetId;
                    telemetryItem.properties["stage"] = (pxtConfig.relprefix || "/--").replace(/[^a-z]/ig, '')
                    if (typeof Windows !== "undefined")
                        telemetryItem.properties["WindowsApp"] = 1;
                    var userAgent = navigator.userAgent.toLowerCase();
                    var electronRegexResult = /\belectron\/(\d+\.\d+\.\d+.*?)(?: |$)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 Chrome/61.0.3163.100 Electron/2.0.0 Safari/537.36"
                    if (electronRegexResult) {
                        telemetryItem.properties["Electron"] = 1;
                        telemetryItem.properties["ElectronVersion"] = electronRegexResult[1];
                    }
                    if (typeof pxtElectron !== "undefined") {
                        telemetryItem.properties["PxtElectron"] = 1;
                        telemetryItem.properties["ElectronVersion"] = pxtElectron.versions.electronVersion;
                        telemetryItem.properties["ChromiumVersion"] = pxtElectron.versions.chromiumVersion;
                        telemetryItem.properties["NodeVersion"] = pxtElectron.versions.nodeVersion;
                        telemetryItem.properties["PxtElectronVersion"] = pxtElectron.versions.pxtElectronVersion;
                        telemetryItem.properties["PxtCoreVersion"] = pxtElectron.versions.pxtCoreVersion;
                        telemetryItem.properties["PxtTargetVersion"] = pxtElectron.versions.pxtTargetVersion;
                        telemetryItem.properties["PxtElectronIsProd"] = pxtElectron.versions.isProd;
                    }
                    // Kiosk UWP info is appended to the user agent by the makecode-dotnet-apps/arcade-kiosk UWP app
                    var kioskUwpRegexResult = /\((MakeCode Arcade Kiosk UWP)\/([\S]+)\/([\S]+)\)/i.exec(userAgent); // Example navigator.userAgent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36 Edg/117.0.2045.60 (MakeCode Arcade Kiosk UWP/0.1.41.0/Windows.Xbox)"
                    if (kioskUwpRegexResult) {
                        telemetryItem.properties["KioskUwp"] = 1;
                        telemetryItem.properties["KioskUwpVersion"] = kioskUwpRegexResult[2];
                        telemetryItem.properties["KioskUwpPlatform"] = kioskUwpRegexResult[3];
                    }
                    return true;
                });
            },
            cfg: {
                instrumentationKey:"9801ed01-c40f-46ec-aa40-2a1742a9e71c",
                disableAjaxTracking: true,
                overridePageViewDuration: false,
                disableExceptionTracking: true,
                disableCorrelationHeaders: true,
                disableCookiesUsage: !isProduction,
                isStorageUseDisabled: !isProduction,
                url: "/pxt-microbit-dogo/ai.2.min.js"
            }
        });
        window.appInsights=appInsights;
        var location = window.location.toString();
        appInsights.trackPageView({
            name: window.location.hostname,
            uri: window.location.origin,
            properties: {
                url: scrubUrl(location),
                urlReferrer: scrubUrl(document.referrer.toString())
            }
        });

        // Scrub potential PII from the URL.
        function scrubUrl(url) {
            if (!url) return url;

            var scriptIdRegex = /(?:S?\d{5}-\d{5}-\d{5}-\d{5})|(?:_[0-9a-zA-Z]{12})/g;
            var scrubbedUrl = new URL(url.toLocaleLowerCase().replace(scriptIdRegex, "xxxxx-xxxxx-xxxxx-xxxxx"));

            // Just as a precaution, strip any suspicious query parameters.
            var blockedParamKeywords = ["username", "password", "token", "pwd"];
            var searchParams = Array.from(scrubbedUrl.searchParams.keys());
            for (var param of searchParams) {
                if (blockedParamKeywords.some(k => param.indexOf(k) != -1)) {
                    scrubbedUrl.searchParams.delete(param);
                }
            }

            return scrubbedUrl.toString();
        }

        return isProduction;
    }
    pxt.initAnalyticsAsync();
</script>

<!-- end include tracking.html -->


</body>

</html>